<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
body{ background-color:#000000}
.gallery{ width:980px; height:500px; position:absolute; left:0; top:0; right:0; bottom:0; margin:auto}
.item{ width:196px; height:100px; position:absolute; background-color:#FFFFFF; transition:transform 1s}
.pic{ width:100%; height:100%;transition:transform 1s;}
</style>

<script src="jquery-1.11.3.min.js"></script>
<script>
$(function(){
	var gallery=$('.gallery');
	init();
	showAll();
	//初始化25个小方块
	function init(){
		for(var i=0;i<25;i++){
			var x=i%5;
			var y=parseInt(i/5);
			$('<div class="item"><div class="pic"></div></div>').css({"left":x*196+"px","top": y*100+"px"})
			.appendTo(gallery)
		}
	}
	//加25张图片
//	function showAll(){
//		$('.item').each(function(index, element) {//给item做位移
//			var x=index%5;
//			var y=parseInt(index/5);
//			var deg=Math.random()*60-30;
//            $(this).css({"transform":"translate("+50*(x-2)+"px,"+50*(y-2)+"px) rotate("+deg+"deg) "})
//        });
//		$('.pic').each(function(index, element) {
//			$(this).css({"background-image":"url(img/"+index+".jpg)", "background-size":"cover","transform":"scale(0.95,0.9)"})
//        });
//	}
	function showAll(){
		$('.item').each(function(index, element) {//给item做位移
			var x=index%5;
			var y=parseInt(index/5);
			var deg=Math.random()*60-30;
			$(this).css({"transform":"translate("+50*(x-2)+"px,"+50*(y-2)+"px) rotate("+deg+"deg) "})
			$(this).find('.pic').css({"background-image":"url(img/"+index+".jpg)", "background-size":"cover","transform":"scale(0.95,0.9)"})
		});

	}
	//当点击单张图显示其大图
//	function showItem(index){//index指点击图的索引值
//	 	$('.item').each(function(index, element) {//给item做位移
//
//            $(this).css({"transform":"translate(0px,0px) rotate(0deg) scale(1)"})
//        });
//		$('.pic').each(function(i, element) {
//			var x=i%5;
//			var y=parseInt(i/5);
//            $(this).css({
//				"background-image":"url(img/"+index+".jpg)",
//				"background-size":"auto",
//				"background-position":x*(-196)+"px "+y*(-100)+"px",
//				"transform":"scale(1)"
//			})
//        });
//	}
	function showItem(index){//index指点击图的索引值
		$('.item').each(function(i, element) {//给item做位移
			var x=i%5;
			var y=parseInt(i/5);
			$(this).css({"transform":"translate(0px,0px) rotate(0deg) scale(1)"})
			$(this).find('.pic').css({
				"background-image":"url(img/"+index+".jpg)",
				"background-size":"auto",
				"background-position":x*(-196)+"px "+y*(-100)+"px",
				"transform":"scale(1)"
			})
		});

	}
	var isshowAll=true;
	$('.item').click(function(){
		var index=$(this).index();
		if(isshowAll){
			showItem(index);
		}else{
			showAll();
		}
		isshowAll=!isshowAll
	})
	
	
})

</script>


</head>

<body>
<div class="gallery">

</div>
</body>
</html>
